import numpy as np

ITODD_OBJECTS = {
    # corresponding to Figure 3 in https://www.mvtec.com/fileadmin/Redaktion/mvtec.com/company/research/datasets/mvtec_itodd.pdf
    1: {
        'og_id': 1,
        'cnet_id': 0,
        'obj_str': 'adapter_plate_square',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims': np.array([0.051, 0.045278, 0.021518])},
    2: { # in BOP it has a quasi 1_1_3 symmetry with a translation shift.
        'og_id': 2,
        'cnet_id': 1,
        'obj_str': 'adapter_plate_triangular',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v':np.array([1,1,1]),
        'sym_permutations': [np.eye(3, dtype=np.float64), np.array([[-0.5, -0.866025, 0],[0.866025, -0.5, 0],[0, 0, 1.0]], dtype=np.float64), np.array([[-0.5, 0.866025, 0],[-0.866025, -0.5, 0],[0, 0, 1.0]], dtype=np.float64)],
        'dims':np.array([0.0509959,0.0460347,0.016])},
    3: {
        'og_id': 3,
        'cnet_id': 2,
        'obj_str': 'box',
        'sym_id': 1,
        'sym_str': '2_2_2',
        'sym_v':np.array([2,2,2]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[1, 0, 0],[0, -1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, -1, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.104,0.0824,0.051])},
    4: { # in BOP has permutation  matrices
        'og_id': 4,
        'cnet_id': 3,
        'obj_str': 'bracket_big',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v':np.array([1,1,1]),  # actually this object has a symmetry, but its non-periodic in a way. the matrix below (after I) gives it, its (-180, 0, 90)
        'sym_permutations': [np.eye(3, dtype=np.float64), np.array([[0, -1, 0],[-1, 0, 0],[0, 0, -1]], dtype=np.float64)],
        'dims':np.array([0.0905,0.0905,0.0653153])},
    5: { # in BOP has permutation  matrices
        'og_id': 5,
        'cnet_id': 4,
        'obj_str': 'bracket_planar',
        'sym_id': 0,  # same as og_id 4
        'sym_str': '1_1_1',
        'sym_v':np.array([1,1,1]),
        'sym_permutations': [np.eye(3, dtype=np.float64), np.array([[0, -1, 0],[-1, 0, 0],[0, 0, -1]], dtype=np.float64)],
        'dims':np.array([0.118,0.118,0.002])},
    6: {
        'og_id': 6,
        'cnet_id': 5,
        'obj_str': 'bracket_screw',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.03,0.04,0.081])},
    7: {
        'og_id': 7,
        'cnet_id': 6,
        'obj_str': 'cap',
        'sym_id': 2,
        'sym_str': '1_1_INF',
        'sym_v':np.array([1,1,10 ** 3]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.034,0.034,0.0315])},
    8: {
        'og_id': 8,
        'cnet_id': 7,
        'obj_str': 'car_rim',
        'sym_id': 3,
        'sym_str': '1_1_5',
        'sym_v':np.array([1,1,5]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[0.309017, -0.951057, 0],[0.951057, 0.309017, 0],[0, 0, 1]], dtype=np.float64),  np.array([[-0.809017, -0.587785, 0], [0.587785, -0.809017, 0],[0, 0, 1]], dtype=np.float64),
                                                                                            np.array([[-0.809017, 0.587785, 0], [-0.587785, -0.809017, 0],[0, 0, 1]], dtype=np.float64),  np.array([[0.309017, 0.951057, 0], [-0.951057, 0.309017, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.061,0.061,0.036])},
    9: {
        'og_id': 9,
        'cnet_id': 8,
        'obj_str': 'clamp_big',
        'sym_id': 4,
        'sym_str': '1_2_1',
        'sym_v':np.array([1,2,1]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64)],
        'dims':np.array([0.038,0.06,0.078])},
    10: {
        'og_id': 10,
        'cnet_id': 9,
        'obj_str': 'clamp_small',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.015,0.02,0.05])},
    11: {
        'og_id': 11,
        'cnet_id': 10,
        'obj_str': 'connector_plate',
        'sym_id': 1,
        'sym_str': '2_2_2',
        'sym_v':np.array([2,2,2]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[1, 0, 0],[0, -1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, -1, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.133,0.056,0.003])},
    12: {
        'og_id': 12,
        'cnet_id': 11,
        'obj_str': 'cylinder',
        'sym_id': 8,
        'sym_str': '2_2_INF',
        'sym_v':np.array([2,2,10 ** 3]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[1, 0, 0],[0, -1, 0],[0, 0, -1]], dtype=np.float64), np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64)], # manually added y-flip
        'dims':np.array([0.04,0.04,0.1])},
    13: {
        'og_id': 13,
        'cnet_id': 12,
        'obj_str': 'engine_part_bearing',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.117228,0.110495,0.047])},
    14: {
        'og_id': 14,
        'cnet_id': 13,
        'obj_str': 'engine_part_cooler_round',
        'sym_id': 5,
        'sym_str': '1_1_2',  # originally 1-1-18
        'sym_v':np.array([1,1,2]),
        'sym_permutations': [np.eye(3, dtype=np.float64), np.array([[-1, 0, 0],[0, -1, 0],[0, 0, 1]])],
        'dims':np.array([0.1,0.1,0.047])},
    15: {
        'og_id': 15,
        'cnet_id': 14,
        'obj_str': 'engine_part_cooler_square',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.073,0.082,0.088])},
    16: {
        'og_id': 16,
        'cnet_id': 15,
        'obj_str': 'engine_part_cover',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.118,0.179257,0.069])},
    17: {
        'og_id': 17,
        'cnet_id': 16,
        'obj_str': 'filter',
        'sym_id': 6,
        'sym_str': '1_1_23',
        'sym_v':np.array([1,1,23]),
        'sym_permutations': [np.eye(3, dtype=np.float64),
                                            np.array([[0.962917, -0.269797, 0],[0.269797, 0.962917, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.854419, -0.519584, 0],[0.519584, 0.854419, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.682553, -0.730836, 0],[0.730836, 0.682553, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.460065, -0.887885, 0],[0.887885, 0.460065, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.203456, -0.979084, 0],[0.979084, 0.203456, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.0682424, -0.997669, 0],[0.997669, -0.0682424, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.33488, -0.942261, 0],[0.942261, -0.33488, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.57668, -0.81697, 0],[0.81697, -0.57668, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.775711, -0.631088, 0],[0.631088, -0.775711, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.917211, -0.398401, 0],[0.398401, -0.917211, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.990686, -0.136167, 0],[0.136167, -0.990686, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.990686, 0.136167, 0],[-0.136167, -0.990686, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.917211, 0.398401, 0],[-0.398401, -0.917211, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.775711, 0.631088, 0],[-0.631088, -0.775711, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.57668, 0.81697, 0],[-0.81697, -0.57668, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.33488, 0.942261, 0],[-0.942261, -0.33488, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[-0.0682424, 0.997669, 0],[-0.997669, -0.0682424, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.203456, 0.979084, 0],[-0.979084, 0.203456, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.460065, 0.887885, 0],[-0.887885, 0.460065, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.682553, 0.730836, 0],[-0.730836, 0.682553, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.854419, 0.519584, 0],[-0.519584, 0.854419, 0],[0, 0, 1]], dtype=np.float64),
                                            np.array([[0.962917, 0.269797, 0],[-0.269797, 0.962917, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.075,0.075,0.05])},
    18: {
        'og_id': 18,
        'cnet_id': 17,
        'obj_str': 'fuse',
        'sym_id': 4,
        'sym_str': '1_2_1',
        'sym_v':np.array([1,2,1]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64)],
        'dims':np.array([0.0864,0.0735,0.0445])},
    19: {
        'og_id': 19,
        'cnet_id': 18,
        'obj_str': 'handle',
        'sym_id': 1,
        'sym_str': '2_2_2',
        'sym_v':np.array([2,2,2]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[1, 0, 0],[0, -1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64),  np.array([[-1, 0, 0],[0, -1, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.009,0.017,0.12])},
    20: {
        'og_id': 20,
        'cnet_id': 19,
        'obj_str': 'injection_pump',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.12,0.0669961,0.047])},
    21: {
        'og_id': 21,
        'cnet_id': 20,
        'obj_str': 'multi_bracket',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.076,0.140,0.0628])},
    22: {
        'og_id': 22,
        'cnet_id': 21,
        'obj_str': 'punched_rail',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.264,0.038,0.025])},
    23: {
        'og_id': 23,
        'cnet_id': 22,
        'obj_str': 'screw',
        'sym_id': 2,  # used to be 8
        'sym_str':  '1_1_INF',  # changed from 1_1_6 originally
        'sym_v':np.array([1,1,10 ** 3]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.019399,0.0168,0.0561])},
    24: {
        'og_id': 24,
        'cnet_id': 23,
        'obj_str': 'screw_black',
        'sym_id': 2,
        'sym_str': '1_1_INF',
        'sym_v':np.array([1,1,10 ** 3]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.03,0.03,0.06])},
    25: {
        'og_id': 25,
        'cnet_id': 24,
        'obj_str': 'star',
        'sym_id': 7,
        'sym_str': '1_1_12',
        'sym_v':np.array([1,1,12]),
        'sym_permutations': [np.eye(3, dtype=np.float64),
                                           np.array([[0.866025, -0.5, 0], [0.5, 0.866025, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[0.5, -0.866025, 0],[0.866025, 0.5, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[0, -1, 0],[1, 0, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[-0.5, -0.866025, 0],[0.866025, -0.5, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[-0.866025, -0.5, 0],[0.5, -0.866025, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[-1, 0, 0],[0, -1, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[-0.866025, 0.5, 0],[-0.5, -0.866025, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[-0.5, 0.866025, 0],[-0.866025, -0.5, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[0, 1, 0],[-1, 0, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[0.5, 0.866025, 0],[-0.866025, 0.5, 0],[0, 0, 1]], dtype=np.float64),
                                           np.array([[0.866025, 0.5, 0],[-0.5, 0.866025, 0],[0, 0, 1]], dtype=np.float64)],
        'dims':np.array([0.0485,0.0485,0.00568375])},
    26: {
        'og_id': 26,
        'cnet_id': 25,
        'obj_str': 'tee_connector',
        'sym_id': 0,
        'sym_str': '1_1_1',
        'sym_v': np.array([1, 1, 1]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.04125,0.245122,0.0627])},
    27: {
        'og_id': 27,
        'cnet_id': 26,
        'obj_str': 'thread',
        'sym_id': 2,
        'sym_str': '1_1_INF',
        'sym_v':np.array([1,1,10**3]),
        'sym_permutations': [np.eye(3, dtype=np.float64)],
        'dims':np.array([0.055,0.055,0.021])},
    28: {
        'og_id': 28,
        'cnet_id': 27,
        'obj_str': 'washer',
        'sym_id': 8,
        'sym_str': '2_2_INF',
        'sym_v':np.array([2, 2, 10 ** 3]),
        'sym_permutations': [np.eye(3, dtype=np.float64),  np.array([[1, 0, 0],[0, -1, 0],[0, 0, -1]], dtype=np.float64), np.array([[-1, 0, 0],[0, 1, 0],[0, 0, -1]], dtype=np.float64)], # manually added y-flip
        'dims':np.array([0.024,0.024,0.002]),
    }
}


TLESS_OBJECTS = {
    # class id, corresponding to this image: http://cmp.felk.cvut.cz/t-less/, symmetry vector, object dimensions, average center-pointdistance
    1: {'sym_cls': 'IV',
        'sym_v': np.array([1, 1, 10 ** 3]),
        'dims': np.array([0.0349916, 0.0349916, 0.0612]),
        'avg_tz': 645.334},
    2: {'sym_cls': 'IV',
        'sym_v': np.array([1, 1, 10 ** 3]),
        'dims': np.array([0.0432896, 0.0432896, 0.0617022]),
        'avg_tz': 639.084},
    3: {'sym_cls': 'IV',
        'sym_v': np.array([1, 1, 10 ** 3]),
        'dims': np.array([0.0477627, 0.0477627, 0.0616702]),
        'avg_tz': 632.499},
    4: {'sym_cls': 'IV',
        'sym_v': np.array([1, 1, 10 ** 3]),
        'dims': np.array([0.0399956, 0.0399956, 0.078]),
        'avg_tz': 643.207},
    5: {'sym_cls': 'II',
        'sym_v': np.array([1, 1, 2]),
        'dims': np.array([0.095, 0.0535, 0.059]),
        'avg_tz': 641.347},
    6: {'sym_cls': 'II',
        'sym_v': np.array([1, 1, 2]),
        'dims': np.array([0.0894, 0.050, 0.0555]),
        'avg_tz': 642.393},
    7: {'sym_cls': 'II',
        'sym_v': np.array([1, 1, 2]),
        'dims': np.array([0.15, 0.0894, 0.0615]),
        'avg_tz': 639.473},
    8: {'sym_cls': 'II',
        'sym_v': np.array([1, 1, 2]),  # approximation to T-LESS anno, i.e. they put a weird matrix
        'dims': np.array([0.1860786, 0.1053344, 0.0600146]),
        'avg_tz': 633.168},
    9: {'sym_cls': 'II',
        'sym_v': np.array([1, 1, 2]),
        'dims': np.array([0.12125, 0.0785, 0.062698]),
        'avg_tz': 643.222},
    10: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),  # approximation to T-LESS anno, i.e. they put a weird matrix
         'dims': np.array([0.0806598, 0.0420072, 0.0635026]),
         'avg_tz': 632.717},
    11: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),  # approximation to T-LESS anno, i.e. they put a weird matrix
         'dims': np.array([0.0662912, 0.048242, 0.0553]),
         'avg_tz': 638.572},
    12: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),  # approximation to T-LESS anno, i.e. they put a weird matrix
         'dims': np.array([0.0783312, 0.057627, 0.0566]),
         'avg_tz': 633.812},
    13: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.0399942, 0.0399886, 0.046]),
         'avg_tz': 634.204},
    14: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.0441346, 0.0441346, 0.0651]),
         'avg_tz': 640.995},
    15: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.0445476, 0.0445542, 0.055]),
         'avg_tz': 634.416},
    16: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.055676, 0.0552634, 0.047]),
         'avg_tz': 635.138},
    17: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.1077742, 0.1077632, 0.0601]),
         'avg_tz': 640.876},
    18: {'sym_cls': 'I',
         'sym_v': np.array([1, 1, 1]),
         'dims': np.array([0.098721, 0.0987388, 0.0637738]),
         'avg_tz': 643.299},
    19: {'sym_cls': 'V',
         'sym_v': np.array([1, 2, 1]),
         'dims': np.array([0.0655, 0.0765, 0.047]),
         'avg_tz': 641.091},
    20: {'sym_cls': 'V',
         'sym_v': np.array([1, 2, 1]),
         'dims': np.array([0.083, 0.0755, 0.047]),
         'avg_tz': 640.773},
    21: {'sym_cls': 'I',
         'sym_v': np.array([1, 1, 1]),
         'dims': np.array([0.0769, 0.0789782, 0.043]),
         'avg_tz': 628.187},
    22: {'sym_cls': 'I',
         'sym_v': np.array([1, 1, 1]),
         'dims': np.array([0.0769, 0.0789782, 0.043987]),
         'avg_tz': 636.554},
    23: {'sym_cls': 'V',
         'sym_v': np.array([1, 2, 1]),
         'dims': np.array([0.1379484, 0.0735, 0.0520652]),
         'avg_tz': 632.685},
    24: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.0429954, 0.042997, 0.0806]),
         'avg_tz': 635.097},
    25: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),
         'dims': np.array([0.096, 0.0615, 0.0608012]),
         'avg_tz': 638.533},
    26: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),
         'dims': np.array([0.096, 0.0615, 0.0607854]),
         'avg_tz': 627.153},
    27: {'sym_cls': 'III',
         'sym_v': np.array([1, 1, 4]),
         'dims': np.array([0.1085, 0.1085, 0.056]),
         'avg_tz': 636.807},
    28: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),
         'dims': np.array([0.995, 0.0995, 0.0484]),
         'avg_tz': 640.137},
    29: {'sym_cls': 'II',
         'sym_v': np.array([1, 1, 2]),
         'dims': np.array([0.113, 0.078, 0.0568]),
         'avg_tz': 645.068},
    30: {'sym_cls': 'IV',
         'sym_v': np.array([1, 1, 10 ** 3]),
         'dims': np.array([0.080, 0.080, 0.0506]),
         'avg_tz': 645.443}
}
